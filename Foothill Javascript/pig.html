
<!DOCTYPE html>
<html>
<script>
    $( document ).ready(function() {
        var getRandomNumber = function(max) {
            var rand;
            if (!isNaN(max)) {
                random = Math.random();
                random = Math.floor(random * max);
                random = random + 1;
            }
            return rand;
        };
        var changePlayer = function() {
            if ( $("#current").text() == $("#player1").val() ) {
                $("#current").text( $("#player2").val() );
            } else {
                $("#current").text( $("#player1").val() );
            }
            $("#die").val("0"); $("#total").val("0"); $("#roll").focus();
        };
        $("#new_game").click( function() {
            $("#score1").val("0"); $("#score2").val("0");
            if ( $("#player1").val() == "" || $("#player2").val() == "" ) {
                $("#turn").removeClass("open");
                alert("Please enter two player names.");
            } else {
                $("#turn").addClass("open"); changePlayer();
            }
        });
        $("#roll").click( function() {
            var total = parseInt( $("#total").val() );
            var die = getRandomNumber(6);
            if (die == 1) {
                total = 0;
                changePlayer();
            } else {
                total = total + die;
            }
            $("#die").val(die);
            $("#total").val(total);
        });
        $("#hold").click( function() {
            var score;
            var total = parseInt( $("#total").val() );
            if ( $("#current").text() == $("#player1").val() ) {
                score = $("#score1");
            } else {
                score = $("#score2");
            }
            score.val( parseInt( score.val() ) + total );
            if (score.val() >= 100) {
                alert( $("#current").text() + " WINS!" );
                newGame();
            } else {
                changePlayer();
            }
        });
    }); 
</script>
<body>
    <h1>Let's Play PIG!</h1>
    <fieldset>
        <legend>Rules</legend>
        <ul>
            <li>First player to 100 wins.</li>
            <li>Players take turns rolling the die.</li>
            <li>Turn ends when player rolls a 1 or chooses to hold.</li>
            <li>If player rolls a 1, they lose all points earned ...</li>
            <li>If player holds, points earned during the turn ...</li>
        </ul>
    </fieldset>
    <label for="player1">Player 1</label>
        <input type="text" id="player1" >
    <label for="score1">Score</label>
        <input type="text" id="score1" value="0" disabled><br>
    <label for="player2">Player 2</label>
    <   input type="text" id="player2">
    <label for="score2">Score</label>
        <input type="text" id="score2" value="0" disabled>
    <input type="button" id="new_game" value="New Game"><br>
    <section id="turn">
        <p><span id="current">&nbsp;</span>'s turn</p>
        <input type="button" id="roll" value="Roll">
        <input type="button" id="hold" value="Hold">
        <label for="die">Die</label>
            <input type="text" id="die" disabled>
        <label for="total">Total</label>
            <input type="text" id="total" disabled>
    </section>
</body>
</html>
